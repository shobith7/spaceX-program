{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/qurae/Desktop/spaceX-program/pages/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { withRouter, useRouter } from \"next/router\";\nimport Filters from '../components/Filters';\n\nvar InitialLoad = function InitialLoad(props) {\n  _s();\n\n  var _useState = useState([]),\n      fetchedData = _useState[0],\n      setFetchedData = _useState[1];\n\n  var _useState2 = useState([]),\n      displayData = _useState2[0],\n      setDisplayData = _useState2[1];\n\n  var _useState3 = useState(''),\n      selectedYear = _useState3[0],\n      setSelectedYear = _useState3[1];\n\n  var _useState4 = useState([]),\n      arrOfYears = _useState4[0],\n      setArrOfYears = _useState4[1];\n\n  var _useState5 = useState(''),\n      successfulLaunch = _useState5[0],\n      setSuccessfulLaunch = _useState5[1];\n\n  var _useState6 = useState(''),\n      successfulLanding = _useState6[0],\n      setSuccessfulLanding = _useState6[1];\n\n  useEffect(function () {\n    if (props.router.asPath === '/') {\n      var filteredYears = [];\n      props.fetchedData.forEach(function (data) {\n        if (!filteredYears.includes(data.launch_year)) {\n          filteredYears.push(data.launch_year);\n        }\n      });\n      filteredYears.sort(function (a, b) {\n        return parseInt(a) - parseInt(b);\n      });\n      setArrOfYears(filteredYears);\n      setFetchedData(props.fetchedData);\n      setDisplayData(props.fetchedData);\n    } else {\n      var _filteredYears = [];\n      props.fetchedData.forEach(function (data) {\n        if (!_filteredYears.includes(data.launch_year)) {\n          _filteredYears.push(data.launch_year);\n        }\n      });\n\n      _filteredYears.sort(function (a, b) {\n        return parseInt(a) - parseInt(b);\n      });\n\n      setArrOfYears(_filteredYears);\n      setFetchedData(props.fetchedData);\n      setDisplayData(props.fetchedData);\n      var launch = props.router.query.launch_success ? props.router.query.launch_success === \"true\" ? \"yesLaunched\" : props.router.query.launch_success === \"false\" ? \"notLaunched\" : \"\" : \"\";\n      var land = props.router.query.land_success ? props.router.query.land_success === \"true\" ? \"yesLanded\" : props.router.query.land_success === \"false\" ? \"notLanded\" : \"\" : \"\";\n      applyFilters({\n        data: props.fetchedData,\n        year: props.router.query.launch_year,\n        launch: launch,\n        land: land\n      });\n    }\n  }, []);\n\n  var applyFilters = function applyFilters(_ref) {\n    var _ref$data = _ref.data,\n        data = _ref$data === void 0 ? fetchedData : _ref$data,\n        year = _ref.year,\n        launch = _ref.launch,\n        land = _ref.land;\n    var newFetchedData = JSON.parse(JSON.stringify(data));\n    var filteredData = newFetchedData.filter(function (data) {\n      if (!year) {\n        if (!launch && land === \"yesLanded\") {\n          return data.rocket.first_stage.cores[0].land_success;\n        } else if (!launch && land === \"notLanded\") {\n          return !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && land === \"yesLanded\") {\n          return data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"notLaunched\" && land === \"yesLanded\") {\n          return !data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && land === \"notLanded\") {\n          return data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"notLaunched\" && land === \"notLanded\") {\n          return !data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && !land) {\n          return data.launch_success;\n        } else if (launch === \"notLaunched\" && !land) {\n          return !data.launch_success;\n        }\n      } else {\n        if (!launch && !land) {\n          return year === data.launch_year;\n        } else if (!launch && land === \"yesLanded\") {\n          return year === data.launch_year && data.rocket.first_stage.cores[0].land_success;\n        } else if (!launch && land === \"notLanded\") {\n          return year === data.launch_year && !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && land === \"yesLanded\") {\n          return year === data.launch_year && data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"notLaunched\" && land === \"yesLanded\") {\n          return year === data.launch_year && !data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && land === \"notLanded\") {\n          return year === data.launch_year && data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"notLaunched\" && land === \"notLanded\") {\n          return year === data.launch_year && !data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if (launch === \"yesLaunched\" && !land) {\n          return year === data.launch_year && data.launch_success;\n        } else if (launch === \"notLaunched\" && !land) {\n          return year === data.launch_year && !data.launch_success;\n        }\n      }\n    });\n    setSuccessfulLaunch(launch);\n    setSuccessfulLanding(land);\n    setDisplayData(filteredData);\n    setSelectedYear(year);\n  };\n\n  var clearFilters = function clearFilters() {\n    setSelectedYear('');\n    setSuccessfulLaunch('');\n    setSuccessfulLanding('');\n    setDisplayData(fetchedData);\n    props.router.push(\"/\", \"/\", {\n      shallow: true\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"SpaceX Launch Programs\"), arrOfYears.length > 0 && __jsx(Filters, {\n    arrOfYears: arrOfYears,\n    applyFilters: applyFilters,\n    selectedYear: selectedYear,\n    successfulLaunch: successfulLaunch,\n    successfulLanding: successfulLanding,\n    clearFilters: clearFilters,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), displayData.length > 0 && __jsx(\"div\", {\n    className: \"dispProg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, displayData.map(function (data, i) {\n    return __jsx(\"div\", {\n      key: i,\n      className: \"card\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      src: data.links.mission_patch_small,\n      className: \"cardImg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }), __jsx(\"p\", {\n      className: \"cardHeading\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, \"\".concat(data.mission_name, \" #\").concat(data.flight_number)), __jsx(\"p\", {\n      className: \"mission\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Mission Ids -\"), data.mission_id.length === 0 && __jsx(\"p\", {\n      className: \"missionId\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 48\n      }\n    }, \"\\u2022\", \" NA\"), data.mission_id.length > 0 && __jsx(\"p\", {\n      className: \"missionId\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 46\n      }\n    }, \"\\u2022\", data.mission_id.length > 0 && data.mission_id.map(function (mission, i) {\n      return __jsx(\"span\", {\n        key: i,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }\n      }, __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, \"\".concat(i === 0 ? \"\" : \", \", \" \").concat(mission, \" \")));\n    })), __jsx(\"p\", {\n      className: \"mission\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Launch Year : \", __jsx(\"span\", {\n      className: \"details\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, data.launch_year)), __jsx(\"p\", {\n      className: \"mission\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Successful Launch : \", __jsx(\"span\", {\n      className: \"details\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, data.launch_success ? \"Yes\" : \"No\")), __jsx(\"p\", {\n      className: \"mission\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, \"Successful Landing : \", __jsx(\"span\", {\n      className: \"details\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, data.rocket.first_stage.cores[0].land_success ? \"Yes\" : \"No\")));\n  })), __jsx(\"p\", {\n    className: \"developer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, \"SpaceX Launch Programs\"));\n};\n\n_s(InitialLoad, \"WxGEhcihExHU4l/aJr5+JizakIk=\");\n\n_c = InitialLoad;\nexport var __N_SSP = true;\nexport default _c2 = withRouter(InitialLoad);\nInitialLoad.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {});\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"InitialLoad\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/qurae/Desktop/spaceX-program/pages/index.js"],"names":["React","useState","useEffect","withRouter","useRouter","Filters","InitialLoad","props","fetchedData","setFetchedData","displayData","setDisplayData","selectedYear","setSelectedYear","arrOfYears","setArrOfYears","successfulLaunch","setSuccessfulLaunch","successfulLanding","setSuccessfulLanding","router","asPath","filteredYears","forEach","data","includes","launch_year","push","sort","a","b","parseInt","launch","query","launch_success","land","land_success","applyFilters","year","newFetchedData","JSON","parse","stringify","filteredData","filter","rocket","first_stage","cores","clearFilters","shallow","length","map","i","links","mission_patch_small","mission_name","flight_number","mission_id","mission","getInitialProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { withRouter, useRouter } from \"next/router\";\nimport Filters from '../components/Filters';\n\nconst InitialLoad = (props) => {\n  const[ fetchedData, setFetchedData ] = useState([]);\n  const[ displayData, setDisplayData ] = useState([]);\n  const[ selectedYear, setSelectedYear ] = useState('');\n  const[ arrOfYears, setArrOfYears ] = useState([]);\n  const[ successfulLaunch, setSuccessfulLaunch] = useState('');\n  const[ successfulLanding, setSuccessfulLanding] = useState('');\n\n  useEffect( () => {\n      if( props.router.asPath === '/' ){\n        let filteredYears = [];\n        props.fetchedData.forEach( data => {\n          if( !filteredYears.includes(data.launch_year) ){\n            filteredYears.push(data.launch_year);\n          }\n        });\n        filteredYears.sort( (a,b) => parseInt(a) - parseInt(b) );\n        setArrOfYears(filteredYears);\n        setFetchedData(props.fetchedData);\n        setDisplayData(props.fetchedData);\n      }else{\n        let filteredYears = [];\n        props.fetchedData.forEach( data => {\n          if( !filteredYears.includes(data.launch_year) ){\n            filteredYears.push(data.launch_year);\n          }\n        });\n        filteredYears.sort( (a,b) => parseInt(a) - parseInt(b) );\n        setArrOfYears(filteredYears);\n        setFetchedData(props.fetchedData);\n        setDisplayData(props.fetchedData);\n        let launch = props.router.query.launch_success ? props.router.query.launch_success === \"true\" ? \"yesLaunched\" : \n        props.router.query.launch_success === \"false\" ? \"notLaunched\" : \"\" : \"\";\n        let land = props.router.query.land_success ?props.router.query.land_success === \"true\" ? \"yesLanded\" : \n        props.router.query.land_success === \"false\" ? \"notLanded\" : \"\" : \"\";\n        applyFilters({ data :props.fetchedData, year : props.router.query.launch_year, launch, land} );  \n      }\n  }, []);\n  \n  const applyFilters = ( {data = fetchedData, year, launch, land} ) => {\n    let newFetchedData = JSON.parse(JSON.stringify( data ));\n    let filteredData = newFetchedData.filter( data => {\n      \n      if( !year ){\n        if( !launch && land === \"yesLanded\"){\n          return data.rocket.first_stage.cores[0].land_success;\n        } else if( !launch && land === \"notLanded\" ){\n          return !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && land === \"yesLanded\" ){\n          return data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"notLaunched\" && land === \"yesLanded\" ){\n          return !data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && land === \"notLanded\" ){\n          return data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"notLaunched\" && land === \"notLanded\" ){\n          return !data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && !land ){\n          return data.launch_success;\n        } else if( launch === \"notLaunched\" && !land ){\n          return !data.launch_success;\n        }\n      } else{\n        if( !launch && !land ){\n          return year === data.launch_year;\n        } else if( !launch && land === \"yesLanded\"){\n          return year === data.launch_year && data.rocket.first_stage.cores[0].land_success;\n        } else if( !launch && land === \"notLanded\" ){\n          return year === data.launch_year && !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && land === \"yesLanded\" ){\n          return year === data.launch_year && data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"notLaunched\" && land === \"yesLanded\" ){\n          return year === data.launch_year && !data.launch_success && data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && land === \"notLanded\" ){\n          return year === data.launch_year && data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"notLaunched\" && land === \"notLanded\" ){\n          return year === data.launch_year && !data.launch_success && !data.rocket.first_stage.cores[0].land_success;\n        } else if( launch === \"yesLaunched\" && !land ){\n          return year === data.launch_year && data.launch_success;\n        } else if( launch === \"notLaunched\" && !land ){\n          return year === data.launch_year && !data.launch_success;\n        }\n      }\n    }); \n    setSuccessfulLaunch(launch);\n    setSuccessfulLanding(land);\n    setDisplayData( filteredData );\n    setSelectedYear( year );\n  }\n\n  const clearFilters = () => {\n    setSelectedYear('');\n    setSuccessfulLaunch('');\n    setSuccessfulLanding('');\n    setDisplayData(fetchedData);\n    props.router.push(\"/\", \"/\", { shallow: true });\n  }\n\n  return(\n    <div className=\"container\">\n      <h2>{`SpaceX Launch Programs`}</h2>\n      {\n        arrOfYears.length > 0 &&\n        <Filters arrOfYears={arrOfYears} \n          applyFilters={applyFilters} \n          selectedYear={selectedYear} \n          successfulLaunch={successfulLaunch}\n          successfulLanding={successfulLanding}\n          clearFilters={clearFilters} />\n      }\n      {\n        displayData.length > 0 &&\n        <div className=\"dispProg\">\n          {displayData.map( (data, i) => (\n            <div key={i} className=\"card\">\n              <img src={data.links.mission_patch_small} className=\"cardImg\"/>\n              <p className=\"cardHeading\">{`${data.mission_name} #${data.flight_number}`}</p>\n              <p className=\"mission\">{`Mission Ids -`}</p>\n              {data.mission_id.length === 0 && <p className=\"missionId\">&#8226;{` NA`}</p>}\n              {data.mission_id.length > 0 && <p className=\"missionId\">&#8226;\n                {data.mission_id.length > 0 && data.mission_id.map(( mission, i )=>(\n                  <span key={i}>\n                    <span>{`${i === 0 ? `` : `, `} ${mission} `}</span>\n                  </span>\n                ))}\n              </p>}\n                <p className=\"mission\">\n                  {`Launch Year : `}\n                  <span className=\"details\">{data.launch_year}</span>\n                </p>\n                <p className=\"mission\">\n                  {`Successful Launch : `}\n                  <span className=\"details\">{data.launch_success ? `Yes` : `No`}</span>\n                </p>\n                <p className=\"mission\">\n                  {`Successful Landing : `}\n                  <span className=\"details\">{data.rocket.first_stage.cores[0].land_success ? `Yes` : `No`}</span>\n                </p>\n            </div>\n          ))}\n        </div>\n      }\n      <p className=\"developer\">{`SpaceX Launch Programs`}</p>\n    </div>\n  )\n}\n\nexport default withRouter(InitialLoad);\n\nInitialLoad.getInitialProps = async () => {\n  return {};\n};\n\nexport async function getServerSideProps() {\n  const res = await fetch( 'https://api.spaceXdata.com/v3/launches?limit=100' );\n  const fetchedData = await res.json();\n  return {\n    props: {\n      fetchedData\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}